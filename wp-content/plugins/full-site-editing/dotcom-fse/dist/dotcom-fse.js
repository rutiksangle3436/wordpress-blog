!function(e,t){for(var n in t)e[n]=t[n]}(window,function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=49)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.lodash}()},function(e,t,n){var o=n(6);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)&&o.length){var l=r.apply(null,o);l&&e.push(l)}else if("object"===i)for(var c in o)n.call(o,c)&&o[c]&&e.push(c)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},function(e,t){!function(){e.exports=this.wp.hooks}()},function(e,t,n){var o=n(38),r=n(39),i=n(17),l=n(40);e.exports=function(e,t){return o(e)||r(e,t)||i(e,t)||l()}},function(e,t){!function(){e.exports=this.wp.domReady}()},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t){!function(){e.exports=this.wp.htmlEntities}()},function(e,t,n){var o=n(18);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}},function(e,t,n){},function(e,t){!function(){e.exports=this.wp.serverSideRender}()},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){var o=n(31);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},function(e,t,n){var o=n(32),r=n(33),i=n(34);e.exports=function(e){return function(){var t,n=o(e);if(r()){var l=o(this).constructor;t=Reflect.construct(n,arguments,l)}else t=n.apply(this,arguments);return i(this,t)}}},function(e,t){!function(){e.exports=this.wp.editor}()},function(e,t){!function(){e.exports=this.wp.url}()},function(e,t){!function(){e.exports=this.ReactDOM}()},function(e,t,n){var o=n(45),r=n(46),i=n(17),l=n(47);e.exports=function(e){return o(e)||r(e)||i(e)||l()}},function(e,t){!function(){e.exports=this.wp.plugins}()},function(e,t,n){},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var o=n(35),r=n(36);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?r(e):t}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,i=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(a){r=!0,i=a}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var o=n(18);e.exports=function(e){if(Array.isArray(e))return o(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(7),i=n(1),l=n(10),c=n.n(l),a=n(20),s=n.n(a),u=n(4),p=n(2),d=n(5),f=n(3),b=Object(u.compose)([Object(p.withColors)("backgroundColor",{textColor:"color"}),Object(p.withFontSizes)("fontSize"),Object(f.withSelect)((function(e){return{isPublished:e("core/editor").isCurrentPostPublished()}}))])((function(e){var t=e.attributes,n=e.backgroundColor,r=e.fontSize,l=e.setAttributes,a=e.setBackgroundColor,u=e.setFontSize,f=e.setTextColor,b=e.textColor,m=e.isPublished,g=t.customFontSize,O=t.textAlign,j=g||r.size;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(p.BlockControls,null,Object(o.createElement)(p.AlignmentToolbar,{value:O,onChange:function(e){l({textAlign:e})}})),Object(o.createElement)(p.InspectorControls,null,Object(o.createElement)(d.PanelBody,{className:"blocks-font-size",title:Object(i.__)("Text Settings","full-site-editing")},Object(o.createElement)(p.FontSizePicker,{onChange:u,value:j})),Object(o.createElement)(p.PanelColorSettings,{title:Object(i.__)("Color Settings","full-site-editing"),initialOpen:!1,colorSettings:[{value:n.color,onChange:a,label:Object(i.__)("Background Color","full-site-editing")},{value:b.color,onChange:f,label:Object(i.__)("Text Color","full-site-editing")}]},Object(o.createElement)(p.ContrastChecker,c()({textColor:b.color,backgroundColor:n.color},{fontSize:j})))),Object(o.createElement)(s.a,{isPublished:m,block:"a8c/navigation-menu",attributes:t}))})),m=(n(30),Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(o.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Object(o.createElement)("path",{d:"M12 7.27l4.28 10.43-3.47-1.53-.81-.36-.81.36-3.47 1.53L12 7.27M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71L12 2z"})));Object(r.registerBlockType)("a8c/navigation-menu",{title:Object(i.__)("Navigation Menu","full-site-editing"),description:Object(i.__)("Visual placeholder for site-wide navigation and menus.","full-site-editing"),icon:m,category:"layout",supports:{align:["wide","full","right","left"],html:!1,reusable:!1},edit:b,save:function(){return null}});var g=n(12),O=n(6),j=n.n(O),v=n(21),h=n.n(v),y=n(22),_=n.n(y),S=n(23),E=n.n(S),k=n(24),C=n.n(k),w=n(11),x=n.n(w),P=n(25),T=function(e){E()(n,e);var t=C()(n);function n(){return h()(this,n),t.apply(this,arguments)}return _()(n,[{key:"toggleEditing",value:function(){var e=this.props,t=e.isEditing;(0,e.setState)({isEditing:!t})}},{key:"onSelectPost",value:function(e){var t=e.id,n=e.type;this.props.setState({isEditing:!1,selectedPostId:t,selectedPostType:n})}},{key:"render",value:function(){var e=this.props.attributes.align;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)("div",{className:x()("post-content-block",j()({},"align".concat(e),e))},Object(o.createElement)(P.PostTitle,null),Object(o.createElement)(p.InnerBlocks,{templateLock:!1})))}}]),n}(o.Component),B=Object(u.compose)([Object(u.withState)({isEditing:!1,selectedPostId:void 0,selectedPostType:void 0}),Object(f.withSelect)((function(e,t){var n=t.selectedPostId,o=t.selectedPostType;return{selectedPost:(0,e("core").getEntityRecord)("postType",o,n)}}))])(T);n(37);Object(r.registerBlockType)("a8c/post-content",{title:Object(i.__)("Content","full-site-editing"),description:Object(i.__)("The page content.","full-site-editing"),icon:"layout",category:"layout",supports:{align:["full"],anchor:!1,customClassName:!1,html:!1,inserter:!1,multiple:!1,reusable:!1},attributes:{align:{type:"string",default:"full"}},edit:B,save:function(){return Object(o.createElement)(p.InnerBlocks.Content,null)}});var I=Object(u.createHigherOrderComponent)((function(e){return function(t){return"a8c/post-content"!==t.name?Object(o.createElement)(e,t):Object(o.createElement)(e,c()({},t,{className:"post-content__block"}))}}),"addContentSlotClassname");Object(g.addFilter)("editor.BlockListBlock","full-site-editing/blocks/post-content",I,9);var N=n(9),A=n.n(N),z=n(13),D=n.n(z),F=n(15),L=n.n(F),R=n(16);function V(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e}),[e]),t.current}function M(e,t,n,r,l,c){var a=Object(o.useState)({option:t,previousOption:"",loaded:!1,error:!1}),s=D()(a,2),u=s[0],p=s[1],d=V(r),f=V(l);function b(){p(A()({},u,{option:u.previousOption,isSaving:!1}))}return Object(o.useEffect)((function(){u.loaded||u.error?function(){var t=u.option,o=u.previousOption,c=!o&&!t||t&&o&&t.trim()===o.trim(),a=!t||0===t.trim().length;!r&&d&&a&&b();if(!l||c)return;!f&&l&&function(t){p(A()({},u,{isSaving:!0})),L()({path:"/wp/v2/settings",method:"POST",data:j()({},e,t)}).then((function(){return function(e){p(A()({},u,{previousOption:e,isDirty:!1,isSaving:!1}))}(t)})).catch((function(){n(Object(i.sprintf)(Object(i.__)("Unable to save site %s","full-site-editing"),e)),b()}))}(t)}():L()({path:"/wp/v2/settings"}).then((function(t){return p(A()({},u,{option:Object(R.decodeEntities)(t[e]),previousOption:Object(R.decodeEntities)(t[e]),loaded:!0,error:!1}))})).catch((function(){n(Object(i.sprintf)(Object(i.__)("Unable to load site %s","full-site-editing"),e)),p(A()({},u,{option:Object(i.sprintf)(Object(i.__)("Error loading site %s","full-site-editing"),e),error:!0}))}))})),{siteOptions:u,handleChange:function(e){c({updated:Date.now()}),p(A()({},u,{option:e}))}}}var U=function(e){return Object(u.createHigherOrderComponent)((function(t){return Object(u.pure)((function(n){var r=Object(f.useSelect)((function(e){var t=e("core/editor"),n=t.isSavingPost,o=t.isPublishingPost,r=t.isAutosavingPost,i=t.isCurrentPostPublished;return(n()&&i()||o())&&!r()})),i=Object(f.useDispatch)((function(e){return e("core/notices").createErrorNotice})),l=n.isSelected,a=n.setAttributes,s=Object.keys(e).reduce((function(t,n){var o=e[n],c=M(o.optionName,o.defaultValue,i,l,r,a),s=c.siteOptions,u=c.handleChange;return t[n]={value:s.option,updateValue:u,loaded:s.loaded},t}),{});return Object(o.createElement)(t,c()({},n,s))}))}),"withSiteOptions")},H=fullSiteEditing.footerCreditOptions,W=function(e){var t=e.choice,n=H.find((function(e){return e.value===t}));if(!n)return null;var r=n.renderType,i=n.renderProps,l=n.label,c=A()({label:l},i);return"icon"===r?Object(o.createElement)(d.Icon,c):Object(o.createElement)("span",null," ",c.label," ")},q=fullSiteEditing,G=q.footerCreditOptions,Q=q.defaultCreditOption;var Y=Object(u.compose)([U({siteTitleOption:{optionName:"title",defaultValue:Object(i.__)("Site title loading…","full-site-editing")},footerCreditOption:{optionName:"footer_credit",defaultValue:Object(i.__)("Footer credit loading…","full-site-editing")}})])((function(e){var t=e.attributes.textAlign,n=void 0===t?"center":t,r=e.isSelected,i=e.setAttributes,l=e.footerCreditOption,c=l.value,a=l.updateValue,s=e.siteTitleOption.value,u=c||Q;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(p.BlockControls,null,Object(o.createElement)(p.AlignmentToolbar,{value:n,onChange:function(e){i({textAlign:e})}})),Object(o.createElement)("div",{className:x()("site-info","site-credit__block",j()({},"has-text-align-".concat(n),n))},Object(o.createElement)("span",{className:"site-name"},s),Object(o.createElement)("span",{className:"comma"},","),Object(o.createElement)("span",{className:"site-credit__selection"},r?Object(o.createElement)(d.SelectControl,{onChange:a,value:u,options:G}):Object(o.createElement)(W,{choice:u}))))}));n(41);Object(r.registerBlockType)("a8c/site-credit",{title:Object(i.__)("WordPress.com Credit","full-site-editing"),description:Object(i.__)("This block tells the world that you're using WordPress.com.","full-site-editing"),icon:"wordpress-alt",category:"layout",supports:{align:["wide","full"],html:!1,multiple:!1,reusable:!1,removal:!1},attributes:{align:{type:"string",default:"wide"},textAlign:{type:"string",default:"center"}},edit:Y,save:function(){return null}});var $=n(8);var J=Object(u.compose)([Object(p.withColors)("backgroundColor",{textColor:"color"}),Object(p.withFontSizes)("fontSize"),Object(f.withSelect)((function(e,t){var n=t.clientId,o=e("core/block-editor"),r=o.getBlockIndex,i=o.getBlockRootClientId,l=o.getTemplateLock,c=i(n);return{blockIndex:r(n,c),isLocked:!!l(c),rootClientId:c}})),Object(f.withDispatch)((function(e,t){var n=t.blockIndex,o=t.rootClientId;return{insertDefaultBlock:function(){return e("core/block-editor").insertDefaultBlock({},o,n+1)}}})),U({siteDescription:{optionName:"description",defaultValue:Object(i.__)("Site description loading…","full-site-editing")}})])((function(e){var t,n=e.attributes,r=e.backgroundColor,l=e.className,a=e.fontSize,s=e.insertDefaultBlock,u=e.setAttributes,f=e.setBackgroundColor,b=e.setFontSize,m=e.setTextColor,g=e.siteDescription,O=e.textColor,v=n.customFontSize,h=n.textAlign,y=v||a.size,_=g.value,S=g.updateValue;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(p.BlockControls,null,Object(o.createElement)(p.AlignmentToolbar,{value:h,onChange:function(e){u({textAlign:e})}})),Object(o.createElement)(p.InspectorControls,null,Object(o.createElement)(d.PanelBody,{className:"blocks-font-size",title:Object(i.__)("Text Settings","full-site-editing")},Object(o.createElement)(p.FontSizePicker,{onChange:b,value:y})),Object(o.createElement)(p.PanelColorSettings,{title:Object(i.__)("Color Settings","full-site-editing"),initialOpen:!1,colorSettings:[{value:r.color,onChange:f,label:Object(i.__)("Background Color","full-site-editing")},{value:O.color,onChange:m,label:Object(i.__)("Text Color","full-site-editing")}]},Object(o.createElement)(p.ContrastChecker,c()({textColor:O.color,backgroundColor:r.color},{fontSize:y})))),Object(o.createElement)(p.RichText,{allowedFormats:[],"aria-label":Object(i.__)("Site Description","full-site-editing"),className:x()("site-description",l,(t={"has-text-color":O.color,"has-background":r.color},j()(t,"has-text-align-".concat(h),h),j()(t,r.class,r.class),j()(t,O.class,O.class),j()(t,a.class,!v&&a.class),t)),identifier:"content",onChange:S,onReplace:s,onSplit:$.noop,placeholder:Object(i.__)("Add a Site Description","full-site-editing"),style:{backgroundColor:r.color,color:O.color,fontSize:y?y+"px":void 0},tagName:"p",value:_}))}));n(42);Object(r.registerBlockType)("a8c/site-description",{title:Object(i.__)("Site Description","full-site-editing"),description:Object(i.__)("Site description, also known as the tagline.","full-site-editing"),icon:Object(o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},Object(o.createElement)("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(o.createElement)("path",{d:"M4 9h16v2H4V9zm0 4h10v2H4v-2z"})),category:"layout",supports:{align:["wide","full"],html:!1,multiple:!1,reusable:!1},attributes:{align:{type:"string",default:"wide"},textAlign:{type:"string",default:"center"},textColor:{type:"string"},customTextColor:{type:"string"},backgroundColor:{type:"string"},customBackgroundColor:{type:"string"},fontSize:{type:"string",default:"small"},customFontSize:{type:"number"}},edit:J,save:function(){return null}});var K=Object(u.compose)([Object(p.withColors)({textColor:"color"}),Object(p.withFontSizes)("fontSize"),Object(f.withSelect)((function(e,t){var n=t.clientId,o=e("core/block-editor"),r=o.getBlockIndex,i=o.getBlockRootClientId,l=o.getTemplateLock,c=i(n);return{blockIndex:r(n,c),isLocked:!!l(c),rootClientId:c}})),Object(f.withDispatch)((function(e,t){var n=t.blockIndex,o=t.rootClientId;return{insertDefaultBlock:function(){return e("core/block-editor").insertDefaultBlock({},o,n+1)}}})),U({siteTitle:{optionName:"title",defaultValue:Object(i.__)("Site title loading…","full-site-editing")}})])((function(e){var t,n=e.attributes,r=e.className,l=e.fontSize,c=e.insertDefaultBlock,a=e.setAttributes,s=e.setFontSize,u=e.setTextColor,f=e.siteTitle,b=e.textColor,m=n.customFontSize,g=n.textAlign,O=m||l.size,v=f.value,h=f.updateValue;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(p.BlockControls,null,Object(o.createElement)(p.AlignmentToolbar,{value:g,onChange:function(e){a({textAlign:e})}})),Object(o.createElement)(p.InspectorControls,null,Object(o.createElement)(d.PanelBody,{className:"blocks-font-size",title:Object(i.__)("Text Settings","full-site-editing")},Object(o.createElement)(p.FontSizePicker,{onChange:s,value:O})),Object(o.createElement)(p.PanelColorSettings,{title:Object(i.__)("Color Settings","full-site-editing"),initialOpen:!1,colorSettings:[{value:b.color,onChange:u,label:Object(i.__)("Text Color","full-site-editing")}]})),Object(o.createElement)(p.RichText,{allowedFormats:[],"aria-label":Object(i.__)("Site Title","full-site-editing"),className:x()("site-title",r,(t={"has-text-color":b.color},j()(t,"has-text-align-".concat(g),g),j()(t,b.class,b.class),j()(t,l.class,!m&&l.class),t)),identifier:"content",onChange:h,onReplace:c,onSplit:$.noop,placeholder:Object(i.__)("Add a Site Title","full-site-editing"),style:{color:b.color,fontSize:O?O+"px":void 0},tagName:"h1",value:v}))}));n(43);Object(r.registerBlockType)("a8c/site-title",{title:Object(i.__)("Site Title","full-site-editing"),description:Object(i.__)("Your site title.","full-site-editing"),icon:"layout",category:"layout",supports:{align:["wide","full"],html:!1,multiple:!1,reusable:!1},attributes:{align:{type:"string",default:"wide"},textAlign:{type:"string",default:"center"},textColor:{type:"string"},customTextColor:{type:"string"},fontSize:{type:"string",default:"normal"},customFontSize:{type:"number"}},edit:K,save:function(){return null}});var X=n(26),Z=(n(19),Object(u.compose)(Object(u.withState)({templateClientId:null}),Object(f.withSelect)((function(e,t){var n=t.attributes,o=t.templateClientId,r=e("core").getEntityRecord,i=e("core/editor"),l=i.getCurrentPostId,c=i.isEditedPostDirty,a=e("core/block-editor"),s=a.getBlock,u=a.getSelectedBlock,p=e("core/edit-post").isEditorSidebarOpened,d=n.templateId,f=l(),b=d&&r("postType","wp_template_part",d),m=Object(X.addQueryArgs)(fullSiteEditing.editTemplateBaseUrl,{post:d,fse_parent_post:f}),g=u();return{currentPostId:f,editTemplateUrl:m,template:b,templateBlock:s(o),templateTitle:Object($.get)(b,["title","rendered"],""),isDirty:c(),isEditorSidebarOpened:!!p(),isAnyTemplateBlockSelected:g&&"a8c/template"===g.name}})),Object(f.withDispatch)((function(e,t){var n=e("core/block-editor").receiveBlocks,o=e("core/edit-post").openGeneralSidebar,i=t.template,l=t.templateClientId,c=t.setState;return{savePost:e("core/editor").savePost,receiveTemplateBlocks:function(){if(i&&!l){var e=Object(r.parse)(Object($.get)(i,["content","raw"],"")),t=Object(r.createBlock)("core/group",{},e);n([t]),c({templateClientId:t.clientId})}},openGeneralSidebar:o}})))((function(e){var t,n=e.attributes,r=e.editTemplateUrl,l=e.receiveTemplateBlocks,c=e.template,a=e.templateBlock,s=e.templateTitle,u=e.isDirty,f=e.savePost,b=e.isEditorSidebarOpened,m=e.openGeneralSidebar,g=e.isAnyTemplateBlockSelected;if(!c)return Object(o.createElement)(d.Placeholder,{className:"template-block__placeholder"},Object(o.createElement)(d.Spinner,null));var O=Object(o.createRef)(),v=Object(o.useState)(!1),h=D()(v,2),y=h[0],_=h[1];Object(o.useEffect)((function(){y&&!u&&O.current.click(),l()})),Object(o.useEffect)((function(){var e=document.querySelector(".edit-post-sidebar__panel-tabs ul li:last-child");if(b&&e){if(g)return m("edit-post/document"),void e.classList.add("hidden");e.classList.remove("hidden")}}),[g,b,m]);var S=n.align,E=n.className,k=function(e){e.stopPropagation(),_(!0),u&&(e.preventDefault(),f())};return Object(o.createElement)("div",{className:x()("template-block",(t={},j()(t,"align".concat(S),S),j()(t,"is-navigating-to-template",y),t))},a&&Object(o.createElement)(o.Fragment,null,Object(o.createElement)(d.Disabled,null,Object(o.createElement)("div",{className:E},Object(o.createElement)(p.BlockEdit,{attributes:a.attributes,block:a,clientId:a.clientId,isSelected:!1,name:a.name,setAttributes:$.noop}))),Object(o.createElement)(d.Placeholder,{className:"template-block__overlay",onClick:k},y&&Object(o.createElement)("div",{className:"template-block__loading"},Object(o.createElement)(d.Spinner,null)," ",Object(i.sprintf)(Object(i.__)("Loading editor for: %s","full-site-editing"),s)),Object(o.createElement)(d.Button,{className:y?"hidden":null,href:r,onClick:k,isDefault:!0,isLarge:!0,ref:O},Object(i.sprintf)(Object(i.__)("Edit %s","full-site-editing"),s)))))}))),ee=Object(u.createHigherOrderComponent)((function(e){return function(t){return"fse-site-logo"!==t.attributes.className?Object(o.createElement)(e,t):Object(o.createElement)(e,c()({},t,{className:"template__site-logo"}))}}),"addFSESiteLogoClassname");Object(g.addFilter)("editor.BlockListBlock","full-site-editing/blocks/template",ee),"wp_template_part"!==fullSiteEditing.editorPostType&&Object(r.registerBlockType)("a8c/template",{title:Object(i.__)("Template Part","full-site-editing"),__experimentalDisplayName:"label",description:Object(i.__)("Display a Template Part.","full-site-editing"),icon:"layout",category:"layout",attributes:{templateId:{type:"number"},className:{type:"string"},label:{type:"string"}},supports:{anchor:!1,customClassName:!1,html:!1,inserter:!1,reusable:!1},edit:Z,save:function(){return null},getEditWrapperProps:function(){return{"data-align":"full"}}});var te=Object(u.createHigherOrderComponent)((function(e){return function(t){return"a8c/template"!==t.name?Object(o.createElement)(e,t):Object(o.createElement)(e,c()({},t,{className:"template__block-container"}))}}),"addFSETemplateClassname");Object(g.addFilter)("editor.BlockListBlock","full-site-editing/blocks/template",te,9);var ne=n(14),oe=n.n(ne),re=n(27),ie=n.n(re);n(44);function le(e){var t=e.defaultLabel,n=e.defaultUrl,r=Object(o.useState)(t),i=D()(r,2),l=i[0],c=i[1],a=Object(o.useState)(n),s=D()(a,2),u=s[0],p=s[1];return window.wp.hooks.addAction("updateCloseButtonOverrides","a8c-fse",(function(e){c(e.label),p(e.closeUrl)})),Object(o.createElement)("a",{href:u,"aria-label":l},Object(o.createElement)(d.Button,{className:"components-button components-icon-button"},Object(o.createElement)(d.Dashicon,{icon:"arrow-left-alt2"}),Object(o.createElement)("div",{className:"close-button-override__label"},l)))}oe()((function(){var e=fullSiteEditing.editorPostType;if("wp_template_part"===e||"page"===e||"post"===e)var t=setInterval((function(){var n=document.querySelector(".edit-post-header__toolbar");if(n){clearInterval(t);var r=document.createElement("div");r.className="components-toolbar edit-post-fullscreen-mode-close__toolbar edit-post-fullscreen-mode-close__toolbar__override",n.prepend(r);var l=fullSiteEditing,c=l.closeButtonLabel,a=l.closeButtonUrl,s=window.calypsoifyGutenberg;s&&s.closeUrl&&(a=s.closeUrl),s&&s.closeButtonLabel&&(c=s.closeButtonLabel);var u=a||"edit.php?post_type=".concat(e),p=c||"Back";"page"!==e||c?"post"!==e||c?"wp_template_part"!==e||c||(p=Object(i.__)("Template Parts","full-site-editing")):p=Object(i.__)("Posts","full-site-editing"):p=Object(i.__)("Pages","full-site-editing"),ie.a.render(Object(o.createElement)(le,{defaultLabel:p,defaultUrl:u}),r)}}))}));var ce=n(28),ae=n.n(ce),se=n(29),ue=Object(f.withSelect)((function(e){var t=e("core").getEntityRecord,n=e("core/editor").getEditedPostAttribute;return{templateClasses:Object($.map)(n("template_part_types"),(function(e){var n=Object($.get)(t("taxonomy","wp_template_part_type",e),"name","");return Object($.endsWith)(n,"-header")?"fse-header":Object($.endsWith)(n,"-footer")?"fse-footer":void 0}))}}))((function(e){var t=e.templateClasses,n=setInterval((function(){var e=document.querySelector(".block-editor__typewriter > div");e&&(clearInterval(n),e.className=x.a.apply(void 0,["a8c-template-editor fse-template-part"].concat(ae()(t))))}));return null}));"wp_template_part"===fullSiteEditing.editorPostType&&Object(se.registerPlugin)("fse-editor-template-classes",{render:ue}),oe()((function(){"wp_template_part"===fullSiteEditing.editorPostType&&Object(f.dispatch)("core/notices").createNotice("info",Object(i.__)("Updates to this template will affect all pages on your site.","full-site-editing"),{isDismissible:!1})}));var pe=Object(u.compose)(Object(f.withSelect)((function(e){var t=e("core/editor").getEditorSettings,n=e("core/block-editor").getBlocks,o=e("core/edit-post").getEditorMode,r=n().find((function(e){return"a8c/post-content"===e.name}));return{rootClientId:r?r.clientId:"",showInserter:"visual"===o()&&t().richEditingEnabled}})))((function(e){var t=e.rootClientId,n=e.showInserter;return Object(o.createElement)(p.Inserter,{rootClientId:t,disabled:!n,position:"bottom right",toggleProps:{isPrimary:!0}})}));oe()((function(){return function(){if("page"===fullSiteEditing.editorPostType)var e=setInterval((function(){var t=document.querySelector(".edit-post-header-toolbar");if(t){clearInterval(e);var n=document.createElement("div");n.classList.add("fse-post-content-block-inserter"),t.insertBefore(n,t.firstChild),Object(o.render)(Object(o.createElement)(pe,null),n)}}))}()}));var de=Object(f.subscribe)((function(){if("page"!==fullSiteEditing.editorPostType)return de();!1===Object(f.select)("core/block-editor").isValidTemplate()&&Object(f.dispatch)("core/block-editor").setTemplateValidity(!0)})),fe=["logo","brand","emblem","hallmark"];Object(g.addFilter)("blocks.registerBlockType","full-site-editing/editor/image-block-keywords",(function(e,t){return"core/image"!==t?e:e=Object($.assign)({},e,{keywords:e.keywords.concat(fe)})}));n(48);Object(f.use)((function(e){return{dispatch:function(t){var n=A()({},e.dispatch(t)),o=fullSiteEditing.editorPostType;return"core/editor"===t&&n.trashPost&&"wp_template_part"===o&&(n.trashPost=function(){}),n}}})),Object(f.use)((function(e){return{dispatch:function(t){var n=A()({},e.dispatch(t)),o=fullSiteEditing.editorPostType;if("core/editor"===t&&n.editPost&&"wp_template_part"===o){var r=n.editPost;n.editPost=function(e){"draft"!==e.status&&r(e)}}return n}}}));var be=Object(f.subscribe)((function(){var e=Object(f.dispatch)("core/edit-post").removeEditorPanel;return"page"===fullSiteEditing.editorPostType&&e("featured-image"),"wp_template_part"===fullSiteEditing.editorPostType&&e("post-status"),be()}))}]));
