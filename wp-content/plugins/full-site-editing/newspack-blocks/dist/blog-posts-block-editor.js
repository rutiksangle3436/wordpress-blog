!function(e,t){for(var n in t)e[n]=t[n]}(window,function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=37)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){!function(){e.exports=this.wp.htmlEntities}()},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t){!function(){e.exports=this.wp.url}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t,n){var o=n(3);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var o=n(25);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},function(e,t,n){var o=n(26),i=n(27),r=n(28);e.exports=function(e){return function(){var t,n=o(e);if(i()){var c=o(this).constructor;t=Reflect.construct(n,arguments,c)}else t=n.apply(this,arguments);return r(this,t)}}},function(e){e.exports=JSON.parse('{"name":"homepage-articles","category":"newspack","attributes":{"className":{"type":"string","default":""},"showExcerpt":{"type":"boolean","default":true},"showDate":{"type":"boolean","default":true},"showImage":{"type":"boolean","default":true},"showCaption":{"type":"boolean","default":false},"imageShape":{"type":"string","default":"landscape"},"minHeight":{"type":"integer","default":0},"moreButton":{"type":"boolean","default":false},"moreButtonText":{"type":"string","default":""},"showAuthor":{"type":"boolean","default":true},"showAvatar":{"type":"boolean","default":true},"showCategory":{"type":"boolean","default":false},"postLayout":{"type":"string","default":"list"},"columns":{"type":"integer","default":3},"postsToShow":{"type":"integer","default":3},"mediaPosition":{"type":"string","default":"top"},"authors":{"type":"array","default":[],"items":{"type":"integer"}},"categories":{"type":"array","default":[],"items":{"type":"integer"}},"tags":{"type":"array","default":[],"items":{"type":"integer"}},"tagExclusions":{"type":"array","default":[],"items":{"type":"integer"}},"specificPosts":{"type":"array","default":[],"items":{"type":"integer"}},"typeScale":{"type":"integer","default":4},"imageScale":{"type":"integer","default":3},"mobileStack":{"type":"boolean","default":false},"sectionHeader":{"type":"string","default":""},"specificMode":{"type":"boolean","default":false},"textColor":{"type":"string","default":""},"customTextColor":{"type":"string","default":""},"singleMode":{"type":"boolean","default":false},"showSubtitle":{"type":"boolean","default":false}}}')},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.wp.hooks}()},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){var o=n(30),i=n(31),r=n(32),c=n(33);e.exports=function(e){return o(e)||i(e)||r(e)||c()}},function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)&&o.length){var c=i.apply(null,o);c&&e.push(c)}else if("object"===r)for(var a in o)n.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(o=function(){return i}.apply(t,[]))||(e.exports=o)}()},function(e,t){!function(){e.exports=this.wp.date}()},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var o=n(29),i=n(4);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?i(e):t}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var o=n(22);e.exports=function(e){if(Array.isArray(e))return o(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){var o=n(22);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(9),i=n.n(o),r=n(16),c=n(1),a=n(17),l=n(0),s=n(2),u=n(12),f=n.n(u),p=n(18),d=n.n(p),g=n(4),h=n.n(g),b=n(13),m=n.n(b),O=n(14),y=n.n(O),j=n(3),v=n.n(j),_=n(23),w=n.n(_),S=n(6),E=n.n(S),k=n(7),C=n(5),P=n(19),x=n.n(P),A=n(11),T=(n(34),function(e){m()(n,e);var t=y()(n);function n(e){var o;return f()(this,n),o=t.call(this,e),v()(h()(o),"isFetchingInfoOnLoad",(function(){var e=o.props,t=e.tokens,n=e.fetchSavedInfo;return Boolean(t.length&&n)})),o.state={suggestions:[],validValues:{},loading:o.isFetchingInfoOnLoad()},o.debouncedUpdateSuggestions=Object(A.debounce)(o.updateSuggestions,500),o}return d()(n,[{key:"componentDidMount",value:function(){var e=this;if(this.isFetchingInfoOnLoad()){var t=this.props,n=t.tokens;(0,t.fetchSavedInfo)(n).then((function(t){var n=e.state.validValues;t.forEach((function(e){n[e.value]=e.label})),e.setState({validValues:n,loading:!1})}))}}},{key:"componentWillUnmount",value:function(){delete this.suggestionsRequest,this.debouncedUpdateSuggestions.cancel()}},{key:"getLabelsForValues",value:function(e){var t=this.state.validValues;return e.reduce((function(e,n){return t[n]?[].concat(x()(e),[t[n]]):e}),[])}},{key:"getValuesForLabels",value:function(e){var t=this.state.validValues;return e.map((function(e){return Object.keys(t).find((function(n){return t[n]===e}))}))}},{key:"updateSuggestions",value:function(e){var t=this,n=this.props.fetchSuggestions;n&&this.setState({loading:!0},(function(){var o=n(e);o.then((function(e){if(t.suggestionsRequest===o){var n=t.state.validValues,i=[];e.forEach((function(e){i.push(e.label),n[e.value]=e.label})),t.setState({suggestions:i,validValues:n,loading:!1})}})).catch((function(){t.suggestionsRequest===o&&t.setState({loading:!1})})),t.suggestionsRequest=o}))}},{key:"handleOnChange",value:function(e){(0,this.props.onChange)(this.getValuesForLabels(e))}},{key:"getTokens",value:function(){var e=this.props.tokens;return this.getLabelsForValues(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.help,o=t.label,i=void 0===o?"":o,r=this.state,c=r.suggestions,a=r.loading;return Object(l.createElement)("div",{className:"autocomplete-tokenfield"},Object(l.createElement)(s.FormTokenField,{value:this.getTokens(),suggestions:c,onChange:function(t){return e.handleOnChange(t)},onInputChange:function(t){return e.debouncedUpdateSuggestions(t)},label:i}),a&&Object(l.createElement)(s.Spinner,null),n&&Object(l.createElement)("p",{className:"autocomplete-tokenfield__help"},n))}}]),n}(l.Component)),I=function(e){m()(n,e);var t=y()(n);function n(){var e;f()(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),v()(h()(e),"state",{showAdvancedFilters:!1}),v()(h()(e),"fetchPostSuggestions",(function(e){return E()({path:Object(k.addQueryArgs)("/wp/v2/search",{search:e,per_page:20,_fields:"id,title",type:"post"})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(C.decodeEntities)(e.title)||Object(c.__)("(no title)","full-site-editing")}}))}))})),v()(h()(e),"fetchSavedPosts",(function(e){return E()({path:Object(k.addQueryArgs)("/wp/v2/posts",{per_page:100,include:e.join(","),_fields:"id,title"})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(C.decodeEntities)(e.title.rendered)||Object(c.__)("(no title)","full-site-editing")}}))}))})),v()(h()(e),"fetchAuthorSuggestions",(function(e){return E()({path:Object(k.addQueryArgs)("/wp/v2/users",{search:e,per_page:20,_fields:"id,name"})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(C.decodeEntities)(e.name)||Object(c.__)("(no name)","full-site-editing")}}))}))})),v()(h()(e),"fetchSavedAuthors",(function(e){return E()({path:Object(k.addQueryArgs)("/wp/v2/users",{per_page:100,include:e.join(","),_fields:"id,name"})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(C.decodeEntities)(e.name)||Object(c.__)("(no name)","full-site-editing")}}))}))})),v()(h()(e),"fetchCategorySuggestions",(function(e){return E()({path:Object(k.addQueryArgs)("/wp/v2/categories",{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc"})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(C.decodeEntities)(e.name)||Object(c.__)("(no title)","full-site-editing")}}))}))})),v()(h()(e),"fetchSavedCategories",(function(e){return E()({path:Object(k.addQueryArgs)("/wp/v2/categories",{per_page:100,_fields:"id,name",include:e.join(",")})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(C.decodeEntities)(e.name)||Object(c.__)("(no title)","full-site-editing")}}))}))})),v()(h()(e),"fetchTagSuggestions",(function(e){return E()({path:Object(k.addQueryArgs)("/wp/v2/tags",{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc"})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(C.decodeEntities)(e.name)||Object(c.__)("(no title)","full-site-editing")}}))}))})),v()(h()(e),"fetchSavedTags",(function(e){return E()({path:Object(k.addQueryArgs)("/wp/v2/tags",{per_page:100,_fields:"id,name",include:e.join(",")})}).then((function(e){return e.map((function(e){return{value:e.id,label:Object(C.decodeEntities)(e.name)||Object(c.__)("(no title)","full-site-editing")}}))}))})),v()(h()(e),"render",(function(){var t=e.props,n=t.specificMode,o=t.onSpecificModeChange,i=t.specificPosts,r=t.onSpecificPostsChange,a=t.authors,u=t.onAuthorsChange,f=t.categories,p=t.onCategoriesChange,d=t.tags,g=t.onTagsChange,h=t.tagExclusions,b=t.onTagExclusionsChange,m=t.enableSpecific,O=e.state.showAdvancedFilters;return[m&&Object(l.createElement)(s.ToggleControl,{key:"specificMode",checked:n,onChange:o,label:Object(c.__)("Choose Specific Posts","full-site-editing")}),n&&Object(l.createElement)(T,{key:"posts",tokens:i||[],onChange:r,fetchSuggestions:e.fetchPostSuggestions,fetchSavedInfo:e.fetchSavedPosts,label:Object(c.__)("Posts","full-site-editing"),help:Object(c.__)("Begin typing post title, click autocomplete result to select.","full-site-editing")}),!n&&Object(l.createElement)(s.QueryControls,w()({key:"queryControls"},e.props)),!n&&u&&Object(l.createElement)(T,{key:"authors",tokens:a||[],onChange:u,fetchSuggestions:e.fetchAuthorSuggestions,fetchSavedInfo:e.fetchSavedAuthors,label:Object(c.__)("Authors","full-site-editing")}),!n&&p&&Object(l.createElement)(T,{key:"categories",tokens:f||[],onChange:p,fetchSuggestions:e.fetchCategorySuggestions,fetchSavedInfo:e.fetchSavedCategories,label:Object(c.__)("Categories","full-site-editing")}),!n&&g&&Object(l.createElement)(T,{key:"tags",tokens:d||[],onChange:g,fetchSuggestions:e.fetchTagSuggestions,fetchSavedInfo:e.fetchSavedTags,label:Object(c.__)("Tags","full-site-editing")}),!n&&b&&Object(l.createElement)("p",{key:"toggle-advanced-filters"},Object(l.createElement)(s.Button,{isLink:!0,onClick:function(){return e.setState({showAdvancedFilters:!O})}},O?Object(c.__)("Hide Advanced Filters","full-site-editing"):Object(c.__)("Show Advanced Filters","full-site-editing"))),!n&&b&&O&&Object(l.createElement)(T,{key:"tag-exclusion",tokens:h||[],onChange:b,fetchSuggestions:e.fetchTagSuggestions,fetchSavedInfo:e.fetchSavedTags,label:Object(c.__)("Excluded Tags","full-site-editing")})]})),e}return n}(l.Component);I.defaultProps={enableSpecific:!0,specificPosts:[],authors:[],categories:[],tags:[],tagExclusions:[]};var B,M=I,D=n(10),H=n(15),L=H.name,N={queryBlocks:[],postsByBlock:{},specificPostsByBlock:{}},R={updateBlocks:function(e){return{type:"UPDATE_BLOCKS",blocks:e}},markPostsAsDisplayed:function(e,t){return{type:"MARK_POSTS_DISPLAYED",clientId:e,posts:t}},markSpecificPostsAsDisplayed:function(e,t){return{type:"MARK_SPECIFIC_POSTS_DISPLAYED",clientId:e,posts:t}}},V={previousPostIds:function(e,t){var n,o,i,r=e.queryBlocks,c=e.specificPostsByBlock,a=e.postsByBlock,l=r.filter((function(e){var t=e.clientId;return c[t]})).flatMap((function(e){var t=e.clientId;return c[t].map((function(e){return e.id}))})),s=(n=r,o=t,i=n.findIndex((function(e){return e.clientId===o})),n.slice(0,i)).filter((function(e){var t=e.clientId;return a[t]})).flatMap((function(e){var t=e.clientId;return a[t].map((function(e){return e.id}))}));return Object(A.uniq)(l.concat(s)).sort()}},z=function(){return"object"==typeof window&&window.wpcomGutenberg&&-1===Number(window.wpcomGutenberg.blogPublic)},F=function(e){var t=e.specificMode,n=e.specificPosts;return t&&n&&n.length},q=function(e){return e.map((function(e){return Object(l.createElement)("span",{className:"avatar author-avatar",key:e.id},Object(l.createElement)("a",{className:"url fn n",href:e.author_link},Object(l.createElement)(l.RawHTML,null,e.avatar)))}))},G=function(e){return Object(l.createElement)("span",{className:"byline"},Object(c._x)("by","post author","full-site-editing")," ",e.reduce((function(t,n,o){return[].concat(x()(t),[Object(l.createElement)("span",{className:"author vcard",key:n.id},Object(l.createElement)("a",{className:"url fn n",href:n.author_link},n.display_name)),o<e.length-2&&", ",e.length>1&&o===e.length-2&&Object(c._x)(" and ","post author","full-site-editing")])}),[]))},Q=n(20),U=n.n(Q),K=n(21),Y=n(8),W=n(24);"object"==typeof window&&window.newspackIsPostSubtitleSupported&&window.newspackIsPostSubtitleSupported.post_subtitle&&(B=!0);var J=Object(l.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.createElement)(s.Path,{d:"M0 0h24v24H0z",fill:"none"}),Object(l.createElement)(s.Path,{d:"M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 12H5V7h14v10z"})),X=Object(l.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.createElement)(s.Path,{d:"M0 0h24v24H0z",fill:"none"}),Object(l.createElement)(s.Path,{d:"M17 3H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H7V5h10v14z"})),$=Object(l.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.createElement)(s.Path,{d:"M0 0h24v24H0z",fill:"none"}),Object(l.createElement)(s.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H6V6h12v12z"})),Z=Object(l.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.createElement)(s.Path,{d:"M0 0h24v24H0z",fill:"none"}),Object(l.createElement)(s.Path,{d:"M3 5v4h2V5h4V3H5c-1.1 0-2 .9-2 2zm2 10H3v4c0 1.1.9 2 2 2h4v-2H5v-4zm14 4h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zm0-16h-4v2h4v4h2V5c0-1.1-.9-2-2-2z"})),ee=Object(l.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.createElement)(s.Path,{d:"M0 0h24v24H0z",fill:"none"}),Object(l.createElement)(s.Path,{d:"M4 4h7V2H4c-1.1 0-2 .9-2 2v7h2V4zm6 9l-4 5h12l-3-4-2.03 2.71L10 13zm7-4.5c0-.83-.67-1.5-1.5-1.5S14 7.67 14 8.5s.67 1.5 1.5 1.5S17 9.33 17 8.5zM20 2h-7v2h7v7h2V4c0-1.1-.9-2-2-2zm0 18h-7v2h7c1.1 0 2-.9 2-2v-7h-2v7zM4 13H2v7c0 1.1.9 2 2 2h7v-2H4v-7z"})),te=function(e){m()(n,e);var t=y()(n);function n(){var e;f()(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),v()(h()(e),"renderPost",(function(t){var n=e.props.attributes,o=n.showImage,i=n.imageShape,r=n.mediaPosition,c=n.minHeight,a=n.showCaption,s=n.showExcerpt,u=n.showSubtitle,f=n.showAuthor,p=n.showAvatar,d=n.showDate,g=n.showCategory,h=n.sectionHeader,b={minHeight:"behind"===r&&o&&t.newspack_featured_image_src&&c+"vh",paddingTop:"behind"===r&&o&&t.newspack_featured_image_src&&c/5+"vh"},m=U()({"post-has-image":t.newspack_featured_image_src},t.newspack_article_classes),O=e.titleForPost(t),y=Object(K.__experimentalGetSettings)().formats.date;return Object(l.createElement)("article",{className:m,key:t.id,style:b},o&&t.newspack_featured_image_src&&Object(l.createElement)("figure",{className:"post-thumbnail",key:"thumbnail"},Object(l.createElement)("a",{href:"#"},"landscape"===i&&Object(l.createElement)("img",{src:t.newspack_featured_image_src.landscape,alt:""}),"portrait"===i&&Object(l.createElement)("img",{src:t.newspack_featured_image_src.portrait,alt:""}),"square"===i&&Object(l.createElement)("img",{src:t.newspack_featured_image_src.square,alt:""}),"uncropped"===i&&Object(l.createElement)("img",{src:t.newspack_featured_image_src.uncropped,alt:""})),a&&""!==t.newspack_featured_image_caption&&Object(l.createElement)("figcaption",null,t.newspack_featured_image_caption)),Object(l.createElement)("div",{className:"entry-wrapper"},g&&t.newspack_category_info.length&&Object(l.createElement)("div",{className:"cat-links"},Object(l.createElement)("a",{href:"#"},Object(C.decodeEntities)(t.newspack_category_info))),Y.RichText.isEmpty(h)?Object(l.createElement)("h2",{className:"entry-title",key:"title"},Object(l.createElement)("a",{href:"#"},O)):Object(l.createElement)("h3",{className:"entry-title",key:"title"},Object(l.createElement)("a",{href:"#"},O)),B&&u&&Object(l.createElement)(l.RawHTML,{key:"subtitle",className:"newspack-post-subtitle newspack-post-subtitle--in-homepage-block"},t.meta.newspack_post_subtitle||""),s&&Object(l.createElement)(l.RawHTML,{key:"excerpt",className:"excerpt-contain"},t.excerpt.rendered),Object(l.createElement)("div",{className:"entry-meta"},f&&p&&q(t.newspack_author_info),f&&G(t.newspack_author_info),d&&Object(l.createElement)("time",{className:"entry-date published",key:"pub-date"},Object(K.dateI18n)(y,t.date_gmt)))))})),v()(h()(e),"titleForPost",(function(e){return e.title?"string"==typeof e.title?Object(C.decodeEntities)(e.title.trim()):"object"==typeof e.title&&e.title.rendered?Object(C.decodeEntities)(e.title.rendered.trim()):void 0:""})),v()(h()(e),"renderInspectorControls",(function(){var t=e.props,n=t.attributes,o=t.setAttributes,i=t.textColor,r=t.setTextColor,a=n.authors,u=n.specificPosts,f=n.postsToShow,p=n.categories,d=n.columns,g=n.showImage,h=n.showCaption,b=n.imageScale,m=n.mobileStack,O=n.minHeight,y=n.moreButton,j=n.showExcerpt,v=n.showSubtitle,_=n.typeScale,w=n.showDate,S=n.showAuthor,E=n.showAvatar,k=n.showCategory,C=n.postLayout,P=n.mediaPosition,x=n.specificMode,A=n.tags,T=n.tagExclusions,I=[{value:1,label:Object(c.__)("Small","full-site-editing"),shortName:Object(c.__)("S","full-site-editing")},{value:2,label:Object(c.__)("Medium","full-site-editing"),shortName:Object(c.__)("M","full-site-editing")},{value:3,label:Object(c.__)("Large","full-site-editing"),shortName:Object(c.__)("L","full-site-editing")},{value:4,label:Object(c.__)("Extra Large","full-site-editing"),shortName:Object(c.__)("XL","full-site-editing")}];return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(s.PanelBody,{title:Object(c.__)("Display Settings","full-site-editing"),initialOpen:!0},f&&Object(l.createElement)(M,{numberOfItems:f,onNumberOfItemsChange:function(e){return o({postsToShow:e})},specificMode:x,onSpecificModeChange:function(e){return o({specificMode:e})},specificPosts:u,onSpecificPostsChange:function(e){return o({specificPosts:e})},authors:a,onAuthorsChange:function(e){return o({authors:e})},categories:p,onCategoriesChange:function(e){return o({categories:e})},tags:A,onTagsChange:function(e){o({tags:e})},tagExclusions:T,onTagExclusionsChange:function(e){return o({tagExclusions:e})}}),"grid"===C&&Object(l.createElement)(s.RangeControl,{label:Object(c.__)("Columns","full-site-editing"),value:d,onChange:function(e){return o({columns:e})},min:2,max:6,required:!0}),!x&&!z()&&Object(l.createElement)(s.ToggleControl,{label:Object(c.__)('Show "More" Button',"full-site-editing"),checked:y,onChange:function(){return o({moreButton:!y})}})),Object(l.createElement)(s.PanelBody,{title:Object(c.__)("Featured Image Settings","full-site-editing")},Object(l.createElement)(s.PanelRow,null,Object(l.createElement)(s.ToggleControl,{label:Object(c.__)("Show Featured Image","full-site-editing"),checked:g,onChange:function(){return o({showImage:!g})}})),g&&Object(l.createElement)(s.PanelRow,null,Object(l.createElement)(s.ToggleControl,{label:Object(c.__)("Show Featured Image Caption","full-site-editing"),checked:h,onChange:function(){return o({showCaption:!h})}})),g&&"top"!==P&&"behind"!==P&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(s.PanelRow,null,Object(l.createElement)(s.ToggleControl,{label:Object(c.__)("Stack on mobile","full-site-editing"),checked:m,onChange:function(){return o({mobileStack:!m})}})),Object(l.createElement)(s.BaseControl,{label:Object(c.__)("Featured Image Size","full-site-editing"),id:"newspackfeatured-image-size"},Object(l.createElement)(s.PanelRow,null,Object(l.createElement)(s.ButtonGroup,{id:"newspackfeatured-image-size","aria-label":Object(c.__)("Featured Image Size","full-site-editing")},I.map((function(e){var t=b===e.value;return Object(l.createElement)(s.Button,{isLarge:!0,isPrimary:t,"aria-pressed":t,"aria-label":e.label,key:e.value,onClick:function(){return o({imageScale:e.value})}},e.shortName)})))))),g&&"behind"===P&&Object(l.createElement)(s.RangeControl,{label:Object(c.__)("Minimum height","full-site-editing"),help:Object(c.__)("Sets a minimum height for the block, using a percentage of the screen's current height.","full-site-editing"),value:O,onChange:function(e){return o({minHeight:e})},min:0,max:100,required:!0})),Object(l.createElement)(s.PanelBody,{title:Object(c.__)("Post Control Settings","full-site-editing")},B&&Object(l.createElement)(s.PanelRow,null,Object(l.createElement)(s.ToggleControl,{label:Object(c.__)("Show Subtitle","full-site-editing"),checked:v,onChange:function(){return o({showSubtitle:!v})}})),Object(l.createElement)(s.PanelRow,null,Object(l.createElement)(s.ToggleControl,{label:Object(c.__)("Show Excerpt","full-site-editing"),checked:j,onChange:function(){return o({showExcerpt:!j})}})),Object(l.createElement)(s.RangeControl,{className:"type-scale-slider",label:Object(c.__)("Type Scale","full-site-editing"),value:_,onChange:function(e){return o({typeScale:e})},min:1,max:10,beforeIcon:"editor-textcolor",afterIcon:"editor-textcolor",required:!0})),Object(l.createElement)(Y.PanelColorSettings,{title:Object(c.__)("Color Settings","full-site-editing"),initialOpen:!0,colorSettings:[{value:i.color,onChange:r,label:Object(c.__)("Text Color","full-site-editing")}]}),Object(l.createElement)(s.PanelBody,{title:Object(c.__)("Post Meta Settings","full-site-editing")},Object(l.createElement)(s.PanelRow,null,Object(l.createElement)(s.ToggleControl,{label:Object(c.__)("Show Date","full-site-editing"),checked:w,onChange:function(){return o({showDate:!w})}})),Object(l.createElement)(s.PanelRow,null,Object(l.createElement)(s.ToggleControl,{label:Object(c.__)("Show Category","full-site-editing"),checked:k,onChange:function(){return o({showCategory:!k})}})),Object(l.createElement)(s.PanelRow,null,Object(l.createElement)(s.ToggleControl,{label:Object(c.__)("Show Author","full-site-editing"),checked:S,onChange:function(){return o({showAuthor:!S})}})),S&&Object(l.createElement)(s.PanelRow,null,Object(l.createElement)(s.ToggleControl,{label:Object(c.__)("Show Author Avatar","full-site-editing"),checked:E,onChange:function(){return o({showAvatar:!E})}}))))})),e}return d()(n,[{key:"render",value:function(){var e,t=this,n=this.props,o=n.attributes,i=n.className,r=n.clientId,a=n.setAttributes,u=n.isSelected,f=n.latestPosts,p=n.textColor,d=n.markPostsAsDisplayed,g=o.showImage,h=o.imageShape,b=o.postLayout,m=o.mediaPosition,O=o.moreButton,y=o.moreButtonText,j=o.columns,_=o.typeScale,w=o.imageScale,S=o.mobileStack,E=o.sectionHeader,k=o.showCaption,C=o.showCategory,P=o.specificMode,x=U()(i,(e={"is-grid":"grid"===b,"show-image":g},v()(e,"columns-".concat(j),"grid"===b),v()(e,"ts-".concat(_),"5"!==_),v()(e,"image-align".concat(m),g),v()(e,"is-".concat(w),"1"!==w&&g),v()(e,"mobile-stack",S),v()(e,"is-".concat(h),g),v()(e,"has-text-color",""!==p.color),v()(e,"show-caption",k),v()(e,"show-category",C),v()(e,"wpnbha",!0),e)),A=[{icon:"list-view",title:Object(c.__)("List View","full-site-editing"),onClick:function(){return a({postLayout:"list"})},isActive:"list"===b},{icon:"grid-view",title:Object(c.__)("Grid View","full-site-editing"),onClick:function(){return a({postLayout:"grid"})},isActive:"grid"===b}],T=[{icon:"align-none",title:Object(c.__)("Show media on top","full-site-editing"),isActive:"top"===m,onClick:function(){return a({mediaPosition:"top"})}},{icon:"align-pull-left",title:Object(c.__)("Show media on left","full-site-editing"),isActive:"left"===m,onClick:function(){return a({mediaPosition:"left"})}},{icon:"align-pull-right",title:Object(c.__)("Show media on right","full-site-editing"),isActive:"right"===m,onClick:function(){return a({mediaPosition:"right"})}},{icon:ee,title:Object(c.__)("Show media behind","full-site-editing"),isActive:"behind"===m,onClick:function(){return a({mediaPosition:"behind"})}}],I=[{icon:J,title:Object(c.__)("Landscape Image Shape","full-site-editing"),isActive:"landscape"===h,onClick:function(){return a({imageShape:"landscape"})}},{icon:X,title:Object(c.__)("portrait Image Shape","full-site-editing"),isActive:"portrait"===h,onClick:function(){return a({imageShape:"portrait"})}},{icon:$,title:Object(c.__)("Square Image Shape","full-site-editing"),isActive:"square"===h,onClick:function(){return a({imageShape:"square"})}},{icon:Z,title:Object(c.__)("Uncropped","full-site-editing"),isActive:"uncropped"===h,onClick:function(){return a({imageShape:"uncropped"})}}];return d(r,f),Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{className:x,style:{color:p.color}},Object(l.createElement)("div",null,f&&(!Y.RichText.isEmpty(E)||u)&&Object(l.createElement)(Y.RichText,{onChange:function(e){return a({sectionHeader:e})},placeholder:Object(c.__)("Write headerâ€¦","full-site-editing"),value:E,tagName:"h2",className:"article-section-title"}),f&&!f.length&&Object(l.createElement)(s.Placeholder,null,Object(c.__)("Sorry, no posts were found.","full-site-editing")),!f&&Object(l.createElement)(s.Placeholder,{icon:Object(l.createElement)(s.Spinner,null),className:"component-placeholder__align-center"}),f&&f.map((function(e){return t.renderPost(e)})))),!P&&f&&O&&!z()&&Object(l.createElement)("div",{className:"editor-styles-wrapper wpnbha__wp-block-button__wrapper"},Object(l.createElement)("div",{className:"wp-block-button"},Object(l.createElement)(Y.RichText,{placeholder:Object(c.__)("Load more posts","full-site-editing"),value:y,onChange:function(e){return a({moreButtonText:e})},className:"wp-block-button__link",keepPlaceholderOnFocus:!0,allowedFormats:[]}))),Object(l.createElement)(Y.BlockControls,null,Object(l.createElement)(s.Toolbar,{controls:A}),g&&Object(l.createElement)(s.Toolbar,{controls:T}),g&&Object(l.createElement)(s.Toolbar,{controls:I})),Object(l.createElement)(Y.InspectorControls,null,this.renderInspectorControls()))}}]),n}(l.Component),ne=Object(W.compose)([Object(Y.withColors)({textColor:"color"}),Object(D.withSelect)((function(e,t){var n=t.attributes,o=t.clientId,i=function(e){var t=e.postsToShow,n=e.authors,o=e.categories,i=e.tags,r=e.specificPosts,c=e.tagExclusions;return Object(A.pickBy)(F(e)?{include:r,orderby:"include",per_page:r.length}:{per_page:t,categories:o,author:n,tags:i,tags_exclude:c},(function(e){return!Object(A.isUndefined)(e)}))}(n);if(!F(n)){var r=e(L).previousPostIds(o);i.exclude=r.join(",")}return{latestPosts:e("core").getEntityRecords("postType","post",i)}})),Object(D.withDispatch)((function(e,t){var n=t.attributes;return{markPostsAsDisplayed:F(n)?e(L).markSpecificPostsAsDisplayed:e(L).markPostsAsDisplayed}}))])(te),oe=(n(35),n(36),H.name,H.attributes),ie=H.category,re={title:Object(c.__)("Homepage Posts","full-site-editing"),icon:Object(l.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.createElement)(s.Path,{d:"M0 0h24v24H0z",fill:"none"}),Object(l.createElement)(s.Path,{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zM10 9h8v2h-8zm0 3h4v2h-4zm0-6h8v2h-8z"})),attributes:oe,category:ie,keywords:[Object(c.__)("posts","full-site-editing"),Object(c.__)("articles","full-site-editing"),Object(c.__)("latest","full-site-editing")],description:Object(c.__)("A block for displaying homepage posts.","full-site-editing"),styles:[{name:"default",label:Object(c._x)("Default","block style","full-site-editing"),isDefault:!0},{name:"borders",label:Object(c._x)("Borders","block style","full-site-editing")}],supports:{html:!1,align:["wide","full"],default:""},edit:ne,save:function(){return null},transforms:{from:[{type:"block",blocks:["core/latest-posts"],transform:function(e){var t=e.displayPostContent,n=e.displayPostDate,o=e.postLayout,i=e.columns,c=e.postsToShow,l=e.categories;return Object(r.createBlock)(Object(a.applyFilters)("blocks.transforms_from_name","newspack-blocks/homepage-articles"),{showExcerpt:t,showDate:n,postLayout:o,columns:i,postsToShow:c,showAuthor:!1,categories:l?[l]:[]})}}],to:[{type:"block",blocks:["core/latest-posts"],transform:function(e){var t=e.showExcerpt,n=e.showDate,o=e.postLayout,i=e.columns,c=e.postsToShow,a=e.categories;return Object(r.createBlock)("core/latest-posts",{displayPostContent:t,displayPostDate:n,postLayout:o,columns:i,postsToShow:c,categories:a[0]||""})}}]}};Object(a.addFilter)("blocks.transforms_from_name","set-transformed-block-name",(function(e){return"newspack-blocks/homepage-articles"!==e?e:"a8c/blog-posts"})),Object(r.registerBlockType)("a8c/blog-posts",i()({},re,{title:Object(c.__)("Blog Posts","full-site-editing"),category:"layout"})),function(e){var t=function t(n){return n.flatMap((function(n){var o=[];return n.name===e&&o.push(n),o.concat(t(n.innerBlocks))}))};Object(D.registerStore)(L,{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_BLOCKS":return i()({},e,{queryBlocks:t(n.blocks)});case"MARK_POSTS_DISPLAYED":return i()({},e,{postsByBlock:i()({},e.postsByBlock,v()({},n.clientId,n.posts))});case"MARK_SPECIFIC_POSTS_DISPLAYED":return i()({},e,{specificPostsByBlock:i()({},e.specificPostsByBlock,v()({},n.clientId,n.posts))})}return e},actions:R,selectors:V,initialState:N});var n,o=Object(D.select)("core/block-editor"),r=o.getClientIdsWithDescendants,c=o.getBlocks,a=Object(D.dispatch)(L).updateBlocks;Object(D.subscribe)((function(){var e=r(),t=e!==n;n=e,t&&a(c())}))}("a8c/blog-posts")}]));
